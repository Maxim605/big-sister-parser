# Документация для разработчиков

## Именования

В названии функций и файлов предполагалось следующее сопоставление

get - получение чего-либо из базы
fetch - получение чего-либо из сети
load - получение чего-либо из сети с последующим сохранением в базу


В проекте использован паттерн CQRS

Query	- Получение данных без изменения состояния
Command	- Операции, изменяющие состояние (POST, PUT, DEL)
Handler	- Обработчик Query/Command
Event	- Оповещение о завершённом действии (не обязательно)
Bus	- Шина (CommandBus, QueryBus, EventBus)


Заметка про типы данных

Контроллер      - DTO (класс)	Валидация, документация, приём данных
Сервис          - Бизнес-логика	Интерфейс или Entity	Внутренние типы, бизнес-методы, домен
Хранение данных - Entity, взаимодействие с БД
Ответ клиенту   - Response DTO, Формирует данные ответа, фильтрует лишнее



## Миграции
В приложении реализованы миграции

Все миграции лежат в `src/migrations`
Если миграция успешна и устраивает разработчика, то следует миграцию провести (запустить) на базе
`npm run migrate:arango`


## Сборка приложения в Docker (для prod)

TODO

**ВАЖНО!** Для запуска необходима сеттинги, без сеттингов ничего не запустится.

Файловая структура в образе. Все точки запуска в директории `/big-sister-parser` (TODO)

```
big-sister-parser
|
|--- cli
|--- exe
|--- package.json
|--- settings.yml
```

#### Команды которыми можно собрать образ и запустить части проекта

Собрать образ из Dockerfile

```bash
docker build -t big-sister-parser .
```

#### Запуск CLI

TODO

